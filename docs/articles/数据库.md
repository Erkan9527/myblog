---
title: 数据库
---


# 数据库相关知识

## NOSQL 和 SQL 的区别

| 特性               | SQL（关系型数据库）                     | NOSQL（非关系型数据库）           |
|--------------------|-----------------------------------------|-----------------------------------|
| **数据模型**        | 表格形式（行和列）                     | 键值对、文档、列族、图等多种模型 |
| **结构化**         | 数据结构固定，需提前定义表结构          | 数据结构灵活，无需预定义          |
| **查询语言**        | 使用 SQL 语言，支持复杂查询             | 无统一查询语言，通常使用 API      |
| **事务支持**        | 完全支持 ACID 特性                     | 一般不支持 ACID，强调最终一致性   |
| **扩展性**         | 垂直扩展（增加硬件资源）                | 水平扩展（增加服务器节点）        |
| **适用场景**        | 结构化数据，事务性强的应用              | 非结构化数据，高并发、大数据场景  |

**示例**:
- **SQL 数据库**: MySQL、PostgreSQL、Oracle、SQL Server
- **NOSQL 数据库**: MongoDB、Redis、Cassandra、HBase

---

## 数据库三范式

### **第一范式（1NF）**
- **定义**: 数据表的每一列都是不可再分的原子数据项。
- **目的**: 确保数据表中的字段具有原子性。
- **示例**:
  - 不符合 1NF:
    | ID  | 姓名     | 联系方式         |
    |-----|----------|-----------------|
    | 1   | 张三     | 123456, 789012  |
  - 符合 1NF:
    | ID  | 姓名     | 电话号码         |
    |-----|----------|-----------------|
    | 1   | 张三     | 123456          |
    | 1   | 张三     | 789012          |

### **第二范式（2NF）**
- **定义**: 在 1NF 的基础上，确保每个非主属性完全依赖于主键。
- **目的**: 消除部分依赖。
- **示例**:
  - 不符合 2NF:
    | 学号 | 课程   | 成绩 | 学院名称 |
    |------|--------|------|----------|
    | 1    | 数学   | 90   | 理学院   |
  - 符合 2NF:
    - 学生表:
      | 学号 | 学院名称 |
      |------|----------|
      | 1    | 理学院   |
    - 成绩表:
      | 学号 | 课程   | 成绩 |
      |------|--------|------|
      | 1    | 数学   | 90   |

### **第三范式（3NF）**
- **定义**: 在 2NF 的基础上，确保每个非主属性直接依赖于主键，而不是通过其他非主属性间接依赖。
- **目的**: 消除传递依赖。
- **示例**:
  - 不符合 3NF:
    | 学号 | 学院名称 | 学院地址 |
    |------|----------|----------|
    | 1    | 理学院   | 北京     |
  - 符合 3NF:
    - 学生表:
      | 学号 | 学院名称 |
      |------|----------|
      | 1    | 理学院   |
    - 学院表:
      | 学院名称 | 学院地址 |
      |----------|----------|
      | 理学院   | 北京     |

---

## MySQL 连表查询

### **1. INNER JOIN（内连接）**
- **描述**: 返回两个表中匹配的记录。
- **语法**:
  ```sql
  SELECT A.列名, B.列名
  FROM 表A
  INNER JOIN 表B ON A.列名 = B.列名;
  ```
- **示例**:
  ```sql
  SELECT students.name, courses.course_name
  FROM students
  INNER JOIN courses ON students.course_id = courses.id;
  ```

### **2. LEFT JOIN（左连接）**
- **描述**: 返回左表中的所有记录，以及右表中匹配的记录。
- **语法**:
  ```sql
  SELECT A.列名, B.列名
  FROM 表A
  LEFT JOIN 表B ON A.列名 = B.列名;
  ```
- **示例**:
  ```sql
  SELECT students.name, courses.course_name
  FROM students
  LEFT JOIN courses ON students.course_id = courses.id;
  ```

### **3. RIGHT JOIN（右连接）**
- **描述**: 返回右表中的所有记录，以及左表中匹配的记录。
- **语法**:
  ```sql
  SELECT A.列名, B.列名
  FROM 表A
  RIGHT JOIN 表B ON A.列名 = B.列名;
  ```
- **示例**:
  ```sql
  SELECT students.name, courses.course_name
  FROM students
  RIGHT JOIN courses ON students.course_id = courses.id;
  ```

### **4. FULL JOIN（全连接）**
- **描述**: 返回两个表中的所有记录，匹配的记录会合并。
- **语法**:
  ```sql
  SELECT A.列名, B.列名
  FROM 表A
  FULL JOIN 表B ON A.列名 = B.列名;
  ```
- **示例**:
  ```sql
  SELECT students.name, courses.course_name
  FROM students
  FULL JOIN courses ON students.course_id = courses.id;
  ```

---

> **总结**:
- **NOSQL 和 SQL**: 适用于不同场景，SQL 强调结构化和事务性，NOSQL 强调灵活性和高并发。
- **数据库三范式**: 通过规范化设计，减少数据冗余，确保数据一致性。
- **MySQL 连表查询**: 掌握 `INNER JOIN`、`LEFT JOIN`、`RIGHT JOIN` 和 `FULL JOIN` 的用法，能够高效查询多表数据。